<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Crystal Game</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap File -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    



    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>

  </head>

  <body>

    <!-- Overall Bootstrap Grid -->
    <div class="container">

      <!-- Jumbotron with Title -->
      <div class="Jumbotron">
        <h1 class="text-center"><br>
          <strong>CrystalsCollectors</strong>
        </h1>
        <hr>

      </div>

      <div class="row">
        <div class="text-center">
          <!-- Instructions-->
          <div id="instructions" class="card">
            <h4 class="card-header" style="text-align: center;">CrystalsColectors instructions!</h4>
            <div class="card-body">
              <div class="text-center">
                <p style="text-align: justify;font-size: 12px"> You will be given a random number at the start of the game. There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score. You win the game by matching your total score to random number, you lose the game if your total score goes above the random number. The value of each crystal is hidden from you until you click on it for the first time each game. Each time when the game starts, the game wil change the values of each crystal</p>
            </div>
            </div>
            <h4 class="card-header" style="text-align: center;">Choose a crystal</h4>
          </div>
        </div>
        <div class="card-group">
                
            <div class="card">
              <img id="img1" class="card-img-top" value=0 src="assets/images/cristal1.jpg" alt="Card image cap">
            </div>
            <div class="card">
              <img id="img2" class="card-img-top" value=1 src="assets/images/cristal2.jpg" alt="Card image cap">
            </div>
            <div class="card">
              <img id="img3" class="card-img-top" value=2 src="assets/images/cristal3.jpg" alt="Card image cap">
            </div>
            <div class="card">
                <img id="img4" class="card-img-top" value=3 src="assets/images/cristal4.jpg" alt="Card image cap">
              </div>
        </div>        
        <div class="text-center">
                <h4 class="card-header" style="text-align: center;">Results</h4>

            <!-- Results-->
                <div class="card-group">
                    <div id="Results" class="card" style="width: 225px">
                        <h4 class="card-header" style="text-align: center;">Score to achieve</h4>
                        <div class="card-body">
                            <div class="text-center">
                            <p id="spachieve" value="0" style="text-align: center;">0</p>
                            </div>
                        </div>
                    </div>
                    <div id="Results" class="card" style="width: 225px">
                        <h4 class="card-header" style="text-align: center;">Your Total Score</h4>
                        <div class="card-body">
                            <div class="text-center">
                                <p id="sptotalscore" value="0" style="text-align: center;">0</p>
                            </div>
                        </div>
                    </div>
                    <div id="Results" class="card" style="width: 225px">
                        <h4 class="card-header" style="text-align: center;">Wins</h4>
                        <div class="card-body">
                            <div class="text-center">
                                <p id="spwins" value="0" style="text-align: center;">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="Results" class="card" style="width: 225px">
                            <h4 class="card-header" style="text-align: center;">Losses</h4>
                            <div class="card-body">
                                <div class="text-center">
                                    <p id="splosses" value="0" style="text-align: center;">0</p>
                                </div>
                            </div>
                        </div>
                </div>
      
            </div>

      </div>
    </div>

    <script>
      // JavaScript function that wraps everything
      $(document).ready(function() {
        // Make our variables global to the runtime of our application
        var vacrystal = [0,1,2,3];
        var vnachieve = 0;
        var vntotalscore = 0;
        var vnwins = 0;
        var vnlosses = 0
       
        // Use a function to initialize our calculator.
        // This way when the user hits clear, we can guarantee a reset of the app.
        function initialize() {
            
            vntotalscore = 0;
            //vnachieve = 0;
            for (var i=0; i<4;i++) {
                vacrystal[i]=(Math.floor(Math.random()*12)+1);
                console.log("Cristal num " +i+ " : "+ vacrystal[i]);
            }
            vnachieve= (Math.floor(Math.random()*100)+20);
            console.log("achieve : " + vnachieve );
            
            $("#spachieve").text(vnachieve);
            $("#sptotalscore").text(vntotalscore);
            $("#spwins").text(vnwins);
            $("#splosses").text(vnlosses);
        }        
      $(".card-img-top").on("click", function() {
        var image= ($(this).attr("value"));
        console.log("image: " + image);
        console.log("array:" + vacrystal[image]);
        vntotalscore += vacrystal[image];
        console.log("totalscore: " + vntotalscore);
        $("#sptotalscore").text(vntotalscore);
        if (vntotalscore>vnachieve) {
            vnlosses++;
            $("#splosses").text(vnlosses);
            initialize();
        } else if (vntotalscore === vnachieve) {
            vnwins++;
            $("#spwins").text(vnwins);
            initialize();
        }
        });
      initialize();       
      });
    </script>

  </body>

</html>
